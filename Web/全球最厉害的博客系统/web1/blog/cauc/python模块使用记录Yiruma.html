<!DOCTYPE doctype html>

<html class="theme-next mist use-motion" lang="">
<head>
<meta charset="utf-8"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta content="width=device-width, initial-scale=1, maximum-scale=1" name="viewport"/>
<meta content="no-transform" http-equiv="Cache-Control"/>
<meta content="no-siteapp" http-equiv="Cache-Control"/>
<link href="./python模块使用记录Yiruma/jquery.fancybox.cssv=2.1.5" rel="stylesheet" type="text/css"/>
<link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&amp;subset=latin,latin-ext" rel="stylesheet" type="text/css"/>
<link href="./python模块使用记录Yiruma/font-awesome.min.cssv=4.6.2" rel="stylesheet" type="text/css">
<link href="./python模块使用记录Yiruma/main.cssv=5.1.1" rel="stylesheet" type="text/css"/>
<meta content="Hexo, NexT" name="keywords"/>
<link href="/favicon.ico?v=5.1.1" rel="shortcut icon" type="image/x-icon"/>
<meta content="还没有完工，先别看这篇" name="description"/>
<meta name="keywords"/>
<meta content="article" property="og:type"/>
<meta content="python模块使用记录" property="og:title"/>
<meta content="https://someonesometimes.github.io/2017/06/15/python模块使用记录/index.html" property="og:url"/>
<meta content="Yiruma" property="og:site_name"/>
<meta content="还没有完工，先别看这篇" property="og:description"/>
<meta content="http://i.imgur.com/JA2uF5O.png" property="og:image"/>
<meta content="2017-06-20T10:55:47.770Z" property="og:updated_time"/>
<meta content="summary" name="twitter:card"/>
<meta content="python模块使用记录" name="twitter:title"/>
<meta content="还没有完工，先别看这篇" name="twitter:description"/>
<meta content="http://i.imgur.com/JA2uF5O.png" name="twitter:image"/>
<script id="hexo.configurations" type="text/javascript">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>
<link href="./python模块使用记录Yiruma/python模块使用记录" rel="canonical"/>
<title>python模块使用记录 | Yiruma</title>
</link></head>
<body itemscope="" itemtype="http://schema.org/WebPage" lang="">
<div class="container sidebar-position-left page-post-detail ">
<div class="headband"></div>
<header class="header" id="header" itemscope="" itemtype="http://schema.org/WPHeader">
<div class="header-inner"><div class="site-brand-wrapper">
<div class="site-meta ">
<div class="custom-logo-site-title">
<a class="brand" href="/" rel="start">
<span class="logo-line-before"><i></i></span>
<span class="site-title">Yiruma</span>
<span class="logo-line-after"><i></i></span>
</a>
</div>
<p class="site-subtitle"></p>
</div>
<div class="site-nav-toggle">
<button>
<span class="btn-bar"></span>
<span class="btn-bar"></span>
<span class="btn-bar"></span>
</button>
</div>
</div>
<nav class="site-nav">
<ul class="menu" id="menu">
<li class="menu-item menu-item-archives">
<a href="/archives" rel="section">
<i class="menu-item-icon fa fa-fw fa-archive"></i> <br/>
            
            Archives
          </a>
</li>
<li class="menu-item menu-item-about">
<a href="/about" rel="section">
<i class="menu-item-icon fa fa-fw fa-user"></i> <br/>
            
            About
          </a>
</li>
<li class="menu-item menu-item-link">
<a href="/links" rel="section">
<i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br/>
            
            menu.link
          </a>
</li>
</ul>
</nav>
</div>
</header>
<main class="main" id="main">
<div class="main-inner">
<div class="content-wrap">
<div class="content" id="content">
<div class="posts-expand" id="posts">
<article class="post post-type-normal " itemscope="" itemtype="http://schema.org/Article">
<link href="./python模块使用记录Yiruma/python模块使用记录" itemprop="mainEntityOfPage"/>
<span hidden="" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<meta content="Yiruma" itemprop="name"/>
<meta content="" itemprop="description"/>
<meta content="/images/avatar.gif" itemprop="image"/>
</span>
<span hidden="" itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
<meta content="Yiruma" itemprop="name"/>
</span>
<header class="post-header">
<h1 class="post-title" itemprop="name headline">python模块使用记录</h1>
<div class="post-meta">
<span class="post-time">
<span class="post-meta-item-icon">
<i class="fa fa-calendar-o"></i>
</span>
<span class="post-meta-item-text">Posted on</span>
<time datetime="2017-06-15T11:41:11+08:00" itemprop="dateCreated datePublished" title="Post created">
                2017-06-15
              </time>
</span>
</div>
</header>
<div class="post-body" itemprop="articleBody">
<p>还没有完工，先别看这篇<br/><a id="more"></a></p>
<p><strong>json</strong><br/><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">import json</div><div class="line"></div><div class="line">path = &amp;apos;F:/json.txt&amp;apos;</div><div class="line">_dict = {&amp;apos;key1&amp;apos;:&amp;apos;value1&amp;apos;, &amp;apos;key2&amp;apos;:&amp;apos;value2&amp;apos;}</div><div class="line"></div><div class="line">#将python数据类型转化为json字符串并写入到txt文件中</div><div class="line">fw = open(path, &amp;apos;w&amp;apos;)</div><div class="line">str = json.dumps(_dict) #从python类型转化到json字符串的函数</div><div class="line">fw.write(str)</div><div class="line">fw.close()</div><div class="line"></div><div class="line">#从txt文件中提取json字符串并转化为python数据类型</div><div class="line">fr = open(path, &amp;apos;r&amp;apos;)</div><div class="line">str = fr.read()</div><div class="line">_dict = json.loads(str)         #从json字符串转化到python字典类型的函数</div><div class="line">fr.close()</div><div class="line"></div><div class="line">#一个可以将多个变量作为字典转成json格式的函数，使用python可变参数实现</div><div class="line">def json_encode(**kwargs):</div><div class="line">	return json.dumps(kwargs)</div><div class="line"></div><div class="line">str = json_encode(var1 = &amp;apos;Yiruma&amp;apos;, var2 = {&amp;apos;light&amp;apos;:&amp;apos;music&amp;apos;}, var3 = [1,&amp;apos;2&amp;apos;])</div></pre></td></tr></table></figure></p>
<p><img alt="" src="./python模块使用记录Yiruma/JA2uF5O.png"/></p>
<hr/>
<p><strong>configparser</strong><br/>本来学了想用作python的配置文件存储，结果后来一想还是用json存吧，方便不同语言间操作，先记录下来以备后用<br/>这是python3的操作方法，具体python2的操作还不太一样，python2<a href="https://docs.python.org/2/library/configparser.html?highlight=configparser#examples" rel="external" target="_blank">走这里</a><br/><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">import configparser</div><div class="line"></div><div class="line">#configparser写配置：</div><div class="line">fw = open(&amp;apos;F:/crawler.ini&amp;apos;, &amp;apos;w&amp;apos;)</div><div class="line">config = configparser.ConfigParser()</div><div class="line">config[&amp;apos;key1&amp;apos;] = {"var1":&amp;apos;1&amp;apos;, "var2":&amp;apos;2&amp;apos;}</div><div class="line">config[&amp;apos;key2&amp;apos;] = {"var3":&amp;apos;3&amp;apos;, "var4":&amp;apos;4&amp;apos;}</div><div class="line">config.write(fw)</div><div class="line">fw.close()</div><div class="line"></div><div class="line"></div><div class="line">#configparser读取配置</div><div class="line">config = configparser.ConfigParser()</div><div class="line">config.read(&amp;apos;F:/crawler.ini&amp;apos;)</div><div class="line">config_var = config.sections()</div><div class="line"></div><div class="line"></div><div class="line">/**</div><div class="line">注释：Config parsers do not guess datatypes of values in configuration files, always storing them internally as strings. This means that if you need other datatypes, you should convert on your own:</div><div class="line">在存储的配置文件中，所有的数据都是以字符串形式存储的</div><div class="line">*/</div></pre></td></tr></table></figure></p>
<hr/>
<p><strong>文件读写</strong><br/><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"></div></pre></td></tr></table></figure></p>
<hr/>
<p><strong>os操作</strong><br/><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">import os</div></pre></td></tr></table></figure></p>
<hr/>
<p><strong>sys</strong><br/><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">import sys</div><div class="line">if __name__ == "__main__":</div><div class="line"></div><div class="line">  #首先为只有两个参数下的可能的两个场景（version，help）做出解释，之后退出</div><div class="line">  if len(sys.argv) == 2 and sys.argv[1].startswith(&amp;apos;--&amp;apos;):</div><div class="line">    option = sys.argv[1][2:]</div><div class="line">    if option == &amp;apos;version&amp;apos;:</div><div class="line">      print (&amp;apos;Version 1.0&amp;apos;)</div><div class="line">    elif option == &amp;apos;help&amp;apos;:</div><div class="line">      print (&amp;apos;usage python crawler.py blog_nick original_url page_reg article_reg title&amp;apos;)</div><div class="line">    else:</div><div class="line">      print (&amp;apos;Unknown option&amp;apos;)</div><div class="line">    exit()</div><div class="line">  </div><div class="line">  #再为参数个数非6的情况做出解释，告知正确的参数格式</div><div class="line">  elif len(sys.argv) != 6:</div><div class="line">    print (&amp;apos;usage python crawler.py blog_nick original_url page_reg article_reg title&amp;apos;)</div><div class="line">    exit()</div><div class="line"></div><div class="line">  #确定拥有正常个数的参数，接下来就是正常的操作了</div><div class="line">  ...</div><div class="line">  ...</div></pre></td></tr></table></figure></p>
<hr/>
<p><strong>re</strong><br/><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">import re</div></pre></td></tr></table></figure></p>
<hr/>
<p><strong>bs4.beautifulsoup</strong><br/><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">from bs4 import beautifulsoup</div></pre></td></tr></table></figure></p>
<hr/>
<p><strong>requests</strong><br/><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">import requests</div></pre></td></tr></table></figure></p>
</div>
<div>
</div>
<div>
</div>
<div>
</div>
<footer class="post-footer">
<div class="post-nav">
<div class="post-nav-next post-nav-item">
<a href="/2017/06/20/php输出缓冲与http的联系/" rel="next" title="php输出缓冲与http的联系">
<i class="fa fa-chevron-left"></i> php输出缓冲与http的联系
              </a>
</div>
<span class="post-nav-divider"></span>
<div class="post-nav-prev post-nav-item">
<a href="/2017/05/31/mysql数据库编码问题的原因与解决方法/" rel="prev" title="mysql数据库编码问题的原因与解决方法">
                mysql数据库编码问题的原因与解决方法 <i class="fa fa-chevron-right"></i>
</a>
</div>
</div>
</footer>
</article>
<div class="post-spread">
</div>
</div>
</div>
<div class="comments" id="comments">
</div>
</div>
<div class="sidebar-toggle">
<div class="sidebar-toggle-line-wrap">
<span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
<span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
<span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
</div>
</div>
<aside class="sidebar" id="sidebar">
<div class="sidebar-inner">
<section class="site-overview sidebar-panel sidebar-panel-active">
<div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<img alt="Yiruma" class="site-author-image" itemprop="image" src="./python模块使用记录Yiruma/avatar.gif">
<p class="site-author-name" itemprop="name">Yiruma</p>
<p class="site-description motion-element" itemprop="description"></p>
</img></div>
<nav class="site-state motion-element">
<div class="site-state-item site-state-posts">
<a href="/archives">
<span class="site-state-item-count">13</span>
<span class="site-state-item-name">posts</span>
</a>
</div>
<div class="site-state-item site-state-tags">
<span class="site-state-item-count">1</span>
<span class="site-state-item-name">tags</span>
</div>
</nav>
<div class="links-of-author motion-element">
</div>
</section>
</div>
</aside>
</div>
</main>
<footer class="footer" id="footer">
<div class="footer-inner">
<div class="copyright">
  
  © 
  <span itemprop="copyrightYear">2017</span>
<span class="with-love">
<i class="fa fa-heart"></i>
</span>
<span class="author" itemprop="copyrightHolder">Yiruma</span>
</div>
<div class="powered-by">
  Powered by <a class="theme-link" href="https://hexo.io">Hexo</a>
</div>
<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>
</div>
</footer>
<div class="back-to-top">
<i class="fa fa-arrow-up"></i>
</div>
</div>
<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>
<script src="./python模块使用记录Yiruma/index.jsv=2.1.3" type="text/javascript"></script>
<script src="./python模块使用记录Yiruma/fastclick.min.jsv=1.0.6" type="text/javascript"></script>
<script src="./python模块使用记录Yiruma/jquery.lazyload.jsv=1.9.7" type="text/javascript"></script>
<script src="./python模块使用记录Yiruma/velocity.min.jsv=1.2.1" type="text/javascript"></script>
<script src="./python模块使用记录Yiruma/velocity.ui.min.jsv=1.2.1" type="text/javascript"></script>
<script src="./python模块使用记录Yiruma/jquery.fancybox.pack.jsv=2.1.5" type="text/javascript"></script>
<script src="./python模块使用记录Yiruma/utils.jsv=5.1.1" type="text/javascript"></script>
<script src="./python模块使用记录Yiruma/motion.jsv=5.1.1" type="text/javascript"></script>
<script src="./python模块使用记录Yiruma/scrollspy.jsv=5.1.1" type="text/javascript"></script>
<script src="./python模块使用记录Yiruma/post-details.jsv=5.1.1" type="text/javascript"></script>
<script src="./python模块使用记录Yiruma/bootstrap.jsv=5.1.1" type="text/javascript"></script>
</body>
</html>
