
<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta content="True" name="HandheldFriendly"/>
<meta content="width=device-width, initial-scale=1, maximum-scale=1" name="viewport">
<meta content="phithon的小站，长期存在与分享关于网络安全与各种编程的原创文章。" name="description"/>
<meta content="网络安全,代码审计,信息安全,漏洞挖掘,php,C++,mysql,python" name="keywords"/>
<link href="./打包java程序(上)  离别歌/favicon.ico" rel="shortcut icon"/>
<link href="./打包java程序(上)  离别歌/favicon-192x192.png" rel="icon" sizes="192x192" type="image/png"/>
<link href="./打包java程序(上)  离别歌/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180"/>
<title>打包java程序(上) | 离别歌</title>
<link href="./打包java程序(上)  离别歌/font-awesome.min.css" rel="stylesheet"/>
<link href="./打包java程序(上)  离别歌/styles.css" rel="stylesheet"/>
<link href="./打包java程序(上)  离别歌/style.css" rel="stylesheet"/>
<link href="./打包java程序(上)  离别歌/flexboxgrid.min.css" rel="stylesheet"/>
<link href="./打包java程序(上)  离别歌/feed" rel="alternate" title="离别歌" type="application/atom+xml">
<script src="./打包java程序(上)  离别歌/jquery.min.js"></script>
<link href="./打包java程序(上)  离别歌/code.css" rel="stylesheet"/>
<link href="./打包java程序(上)  离别歌/button.css" rel="stylesheet"/>
<link href="./打包java程序(上)  离别歌/pagination.css" rel="stylesheet"/>
<link href="./打包java程序(上)  离别歌/jquery.fancybox.min.css" rel="stylesheet"/>
</link></meta></head>
<body>
<div id="header-post">
<a class="active" href="#" id="menu-icon"><i class="fa fa-bars fa-lg"></i></a>
<a class="active" href="#" id="menu-icon-tablet"><i class="fa fa-bars fa-lg"></i></a>
<a href="#" id="top-icon-tablet" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a>
<span id="menu" style="visibility: visible">
<span id="nav">
<ul>
<li><a href="/">主页</a></li>
<li><a href="javascript:history.back(-1)">返回</a></li>
</ul>
</span>
<br/>
<span id="actions">
<ul>
<li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i aria-hidden="true" class="fa fa-chevron-up" onmouseout="$('#i-top').toggle();" onmouseover="$('#i-top').toggle();"></i></a></li>
<li><a class="icon" href="#"><i aria-hidden="true" class="fa fa-share-alt" onclick="$('#share').toggle();return false;" onmouseout="$('#i-share').toggle();" onmouseover="$('#i-share').toggle();"></i></a></li>
</ul>
<span class="info" id="i-top" style="display:none;">Back to top</span>
<span class="info" id="i-share" style="display:none;">Share post</span>
</span>
<br/>
<div id="share" style="display: none">
<ul>
<li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3A//www.leavesongs.com/JAVA/PackupJar.html"><i aria-hidden="true" class="fa fa-facebook "></i></a></li>
<li><a class="icon" href="https://twitter.com/share?url=https%3A//www.leavesongs.com/JAVA/PackupJar.html&amp;text=%E6%89%93%E5%8C%85java%E7%A8%8B%E5%BA%8F%28%E4%B8%8A%29"><i aria-hidden="true" class="fa fa-twitter "></i></a></li>
<li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3A//www.leavesongs.com/JAVA/PackupJar.html&amp;title=%E6%89%93%E5%8C%85java%E7%A8%8B%E5%BA%8F%28%E4%B8%8A%29"><i aria-hidden="true" class="fa fa-linkedin "></i></a></li>
<li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3A//www.leavesongs.com/JAVA/PackupJar.html&amp;is_video=false&amp;description=%E6%89%93%E5%8C%85java%E7%A8%8B%E5%BA%8F%28%E4%B8%8A%29"><i aria-hidden="true" class="fa fa-pinterest "></i></a></li>
<li><a class="icon" href="mailto:?subject=%E6%89%93%E5%8C%85java%E7%A8%8B%E5%BA%8F%28%E4%B8%8A%29&amp;body=Check out this article: https%3A//www.leavesongs.com/JAVA/PackupJar.html"><i aria-hidden="true" class="fa fa-envelope "></i></a></li>
<li><a class="icon" href="https://getpocket.com/save?url=https%3A//www.leavesongs.com/JAVA/PackupJar.html&amp;title=%E6%89%93%E5%8C%85java%E7%A8%8B%E5%BA%8F%28%E4%B8%8A%29"><i aria-hidden="true" class="fa fa-get-pocket "></i></a></li>
<li><a class="icon" href="http://reddit.com/submit?url=https%3A//www.leavesongs.com/JAVA/PackupJar.html&amp;title=%E6%89%93%E5%8C%85java%E7%A8%8B%E5%BA%8F%28%E4%B8%8A%29"><i aria-hidden="true" class="fa fa-reddit "></i></a></li>
<li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3A//www.leavesongs.com/JAVA/PackupJar.html&amp;title=%E6%89%93%E5%8C%85java%E7%A8%8B%E5%BA%8F%28%E4%B8%8A%29"><i aria-hidden="true" class="fa fa-stumbleupon "></i></a></li>
<li><a class="icon" href="http://digg.com/submit?url=https%3A//www.leavesongs.com/JAVA/PackupJar.html&amp;title=%E6%89%93%E5%8C%85java%E7%A8%8B%E5%BA%8F%28%E4%B8%8A%29"><i aria-hidden="true" class="fa fa-digg "></i></a></li>
<li><a class="icon" href="http://www.tumblr.com/share/link?url=https%3A//www.leavesongs.com/JAVA/PackupJar.html&amp;name=%E6%89%93%E5%8C%85java%E7%A8%8B%E5%BA%8F%28%E4%B8%8A%29&amp;description="><i aria-hidden="true" class="fa fa-tumblr "></i></a></li>
</ul>
</div>
</span>
</div>
<div class="content index width mx-auto px2 my4">
<article class="post" itemscope="" itemtype="http://schema.org/BlogPosting">
<header>
<h1 class="posttitle" itemprop="name headline">打包java程序(上)</h1>
<div class="meta">
<span class="author" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<span itemprop="name">Phithon</span>
</span>
<div class="postdate">
<time datetime="2013年4月20日 01:01" itemprop="datePublished">
                    2013 四月 20 01:01
                </time>
</div>
<div class="article-tag">
            阅读：7545
            </div>
<div class="article-tag">
<i class="fa fa-bookmark"></i>
<a class="tag-link" href="/sort/JAVA">JAVA</a>
</div>
<div class="article-tag">
<i class="fa fa-tag"></i>
<a class="tag-link" href="/tag/%E5%91%BD%E4%BB%A4%E8%A1%8C">命令行</a>,
                
                <a class="tag-link" href="/tag/jar%E6%89%93%E5%8C%85">jar打包</a>,
                
                <a class="tag-link" href="/tag/java">java</a>
</div>
</div>
</header>
<div class="content" itemprop="articleBody">
<p><span style="font-size:14px;">    java作为一个跨平台的程序语言，虽说给程序员带来了方便，但是还是苦了用户。因为运行java程序需要装java虚拟机，版本如果不对还容易启动不来。</span></p>
<p><span style="font-size:14px;">    这里说一下把自己写的java程序打包成jar我们的方法。下面是一个简单的使用swing库的界面程序，保存为test_2ButtonChange.java</span></p>
<pre class="brush:java;">
import javax.swing.*;
import java.awt.*;
import java.awt.event.*;

//使用两个按钮分别控制图像颜色、文字的变化，互不干扰，使用内部类完成

class test_2ButtonChange{
	public static void main(String[] args) {
		doAction go = new doAction();
		go.begin();
	}
}

class doAction{
	private JButton color_Button;
	private JButton text_Button;
	private JFrame frame;
	private colorWidget myOval;
	private JLabel myText;
	private colorListener cListener;
	private labelListener lListener;
	private Integer i = 0;
	public void begin()
	{
		cListener = new colorListener();
		lListener = new labelListener();  
		myOval = new colorWidget();
		frame = new JFrame();
		color_Button = new JButton("改变颜色");
		text_Button = new JButton("改变文字");
		myText = new JLabel(i.toString());
		color_Button.addActionListener(cListener);
		text_Button.addActionListener(lListener);
		frame.getContentPane().add(BorderLayout.SOUTH,color_Button);
		frame.getContentPane().add(BorderLayout.CENTER,myOval);
		frame.getContentPane().add(BorderLayout.NORTH,text_Button);
		frame.getContentPane().add(BorderLayout.EAST,myText);
		frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
		frame.setSize(500,300);
		frame.setVisible(true);
	}
	
	class colorListener implements ActionListener{
		public void actionPerformed(ActionEvent event) {
			frame.repaint();
		}
	}
	
	class labelListener implements ActionListener{
		public void actionPerformed(ActionEvent event) {
			i++;
			myText.setText(i.toString());
		}
	}
	
	
}

class colorWidget extends JPanel{

	/**
	 * 
	 */
	private static final long serialVersionUID = -460185823252881743L;
	public void paintComponent(Graphics g) {
		int red = (int)(Math.random() * 255);
		int green = (int)(Math.random() * 255);
		int blue = (int)(Math.random() * 255);
		Color randomColor = new Color(red,green,blue);
		g.setColor(randomColor);
		g.fillOval(10, 10, 400, 100);
	}
	
}</pre>
<ul>
<li><span style="font-size:14px;">命令行</span></li>
</ul>
<p><span style="font-size:14px;">        使用命令行的方法，可以在没有IDE的时候打包JAR。(Linux下更常用)</span></p>
<p><span style="font-size:14px;">        1.编译：javac test_2ButtonChange.java</span></p>
<p><span style="font-size:14px;">            编译命令我相信没有什么疑惑。</span></p>
<p><a href="https://www.leavesongs.com/content/uploadfile/201304/4efd1366427813.jpg" id="ematt:80" target="_blank"><img alt="点击查看原图" border="0" src="./打包java程序(上)  离别歌/thum-4efd1366427813.jpg"/></a></p>
<p><span style="font-size:14px;">        2.创建mf.txt来描述哪个类带有main方法。</span></p>
<p><span style="font-size:14px;">            这一步很重要，否则打包好的jar也不能运行。新建一个文本文件，叫什么都可以，里面填写这个java程序的信息，比如：</span></p>
<pre class="brush:bash;">
Manifest-Version: 1.0
Class-Path: 
Created-By: 1.6.0_06 (Sun Microsystems Inc.)
Main-Class: test_2ButtonChange

</pre>
<p><span style="font-size:14px;">            注意最后一行换行。Main-Class:test_2ButtonChange即是包含了main方法的类。</span></p>
<p><span style="font-size:14px;">        3.开始打包.jar文件：jar -cvmf mainfest.txt app.jar *.class</span></p>
<p><span style="font-size:14px;">            mainfest.txt表示第二步新建的文件，app.jar表示我们待生成的jar文件的名字，*.class表示第一步编译好的那些class文件。我这里演示的时候这些文件都放在一起，所以没有加路径。如果编写程序的话最好把.java源文件和生成的.class文件分开放在不同文件夹里，这时候写命令行就要加相对或绝对路径。</span></p>
<p><span style="font-size:14px;"><a href="https://www.leavesongs.com/content/uploadfile/201304/3fb51366428654.jpg" id="ematt:81" target="_blank"><img alt="点击查看原图" border="0" src="./打包java程序(上)  离别歌/thum-3fb51366428654.jpg"/></a></span></p>
<p><span style="font-size:14px;">        4.验证.jar文件是否能打开：直接双击app.jar，或使用命令行java -jar app.jar</span></p>
<p><span style="font-size:14px;"><a href="https://www.leavesongs.com/content/uploadfile/201304/f9961366428654.jpg" id="ematt:82" target="_blank"><img alt="点击查看原图" border="0" src="./打包java程序(上)  离别歌/thum-f9961366428654.jpg"/></a>(直接双击)</span></p>
<p><span style="font-size:14px;"><a href="https://www.leavesongs.com/content/uploadfile/201304/2de41366428753.jpg" id="ematt:83" target="_blank"><img alt="点击查看原图" border="0" src="./打包java程序(上)  离别歌/thum-2de41366428753.jpg"/></a>(使用命令行)</span></p>
<p><span style="font-size:14px;">​</span></p>
<ul>
<li><span style="font-size:14px;">使用IDE（eclipse）</span></li>
</ul>
<p><span style="font-size:14px;">        IDE就很方便了。打开eclipse，点击文件-导出</span></p>
<p><span style="font-size:14px;"><a href="https://www.leavesongs.com/content/uploadfile/201304/13501366429490.jpg" id="ematt:84" target="_blank"><img alt="点击查看原图" border="0" src="./打包java程序(上)  离别歌/thum-13501366429490.jpg"/></a></span></p>
<p><span style="font-size:14px;">        选择java-jar文件，下一步：</span></p>
<p><span style="font-size:14px;"><a href="https://www.leavesongs.com/content/uploadfile/201304/fac41366429490.jpg" id="ematt:85" target="_blank"><img alt="点击查看原图" border="0" src="./打包java程序(上)  离别歌/fac41366429490.jpg"/></a></span></p>
<p><span style="font-size:14px;">        选择你的工程，比如test_2ButtonChange，下面选择输出的jar文件。点下一步。</span></p>
<p><span style="font-size:14px;"><a href="https://www.leavesongs.com/content/uploadfile/201304/86c31366429490.jpg" id="ematt:86" target="_blank"><img alt="点击查看原图" border="0" src="./打包java程序(上)  离别歌/thum-86c31366429490.jpg"/></a></span></p>
<p><span style="font-size:14px;">        一直点下一步，知道出现选择入口点的类，如下。选择你含有main方法的类，最后完成即可：</span></p>
<p><span style="font-size:14px;"><a href="https://www.leavesongs.com/content/uploadfile/201304/10581366429490.jpg" id="ematt:87" target="_blank"><img alt="点击查看原图" border="0" src="./打包java程序(上)  离别歌/thum-10581366429490.jpg"/></a></span></p>
<p><span style="font-size:14px;">        生成了一个jar文件，效果和命令行的类似。</span></p>
<p> </p>
<p><span style="font-size:14px;">    现在，只要有java虚拟机(JRE),在任何平台都可以运行这个jar，这就是java语言的优势之处。下次我会讲一下怎样把这个jar再打包成exe文件，毕竟在windows系统下可执行文件最好还是exe，这样更加方便用户使用。</span></p>
</div>
</article>
<div id="reply-list">
<h1>评论</h1>
</div>
<form action="#reply" enctype="multipart/form-data" id="reply" method="post">
<textarea cols="40" id="id_content" name="content" required="" rows="6">
</textarea>
<div class="row">
<div class="col-xs-4">
<input id="id_nickname" maxlength="64" name="nickname" placeholder="昵称" required="" type="text"/>
</div>
<div class="col-xs-4">
<input id="id_email" maxlength="254" name="email" placeholder="邮箱（可留空）" type="text"/>
</div>
<div class="col-xs-4">
<input id="id_url" maxlength="200" name="url" placeholder="链接（可留空）" type="text"/>
</div>
</div>
<div class="row" style="margin-top: 8px"><div class="col-xs-4"><input autocomplete="off" id="id_captcha_1" name="captcha_1" placeholder="验证码" type="text"/> <input id="id_captcha_0" name="captcha_0" type="hidden" value="7df05a7ac86b9054f8e825e0381b529130a28da5"/>
</div><div class="col-xs-4">
<img alt="captcha" class="captcha" height="25" src="./打包java程序(上)  离别歌/7df05a7ac86b9054f8e825e0381b529130a28da5"/></div></div>
<div class="clearfix"></div>
<input class="ui-button ui-button-sgreen" type="submit" value="提交"/>
<input id="id_archive" name="archive" type="hidden" value="240">
<input id="id_parent" name="parent" type="hidden"/>
<input name="csrfmiddlewaretoken" type="hidden" value="PlXHKThO9G9wYZQDF4rAXe9XDlrCpy89nFidynt3At3VYEeStlVkwSb2MpUK82Xj"/>
</input></form>
</div>
<footer id="footer">
<div class="footer-left">
    Copyright © 2017 Powered by talkbook
  </div>
<div class="footer-right">
<nav>
<ul>
<li><a href="/">首页</a></li>
<li><a href="http://weibo.com/101yx" target="_blank">微博</a></li>
<li><a href="https://github.com/phith0n" target="_blank">项目</a></li>
<li><a href="/template/change/">更换模板</a></li>
</ul>
</nav>
</div>
</footer>
<script src="./打包java程序(上)  离别歌/main.js"></script>
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?ad9ab5e37c2811b9f0979e46123fc898";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>
<script src="./打包java程序(上)  离别歌/jquery.fancybox.pack.js"></script>
<script>
$(document).ready(function () {
    $("article a").each(function (i, e) {
        if(e.host != 'www.leavesongs.com') {
            e.target = '_blank';
        }
    });
    $("article img").each(function (i, e) {
        if(e.parentNode.tagName.toUpperCase() != 'A') {
            $(e).wrap('<a href="'+escapeHtml(e.src)+'" class="fancybox"></a>');
        } else {
            $(e.parentNode).addClass('fancybox');
        }
    });
    $('.fancybox').fancybox();
})
</script>
</body>
</html>